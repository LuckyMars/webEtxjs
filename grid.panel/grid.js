Ext.onReady(function () {


//1.定义Model
Ext.define("User", {
    extend: "Ext.data.Model",
    fields: [
        { name: 'name', type: 'string' },
        { name: 'age', type: 'int' },
        { name: 'phone', type: 'string' },
        { name: 'address',type:'string'}
    ]
});

//2.创建store
var provice = [//本地数据
    ['张三', "20", "123456456","1111111111111111122222233333"],
    ['李四', "21", "141414","1111111111111111122222233333"],
    ['王五', "22", "141414141","1111111111111111122222233333"],
    ['赵柳', "23", "14141414","1111111111111111122222233333"],
    ['张三1', "20", "123456456","1111111111111111122222233333"],
    ['李四1', "21", "141414","1111111111111111122222233333"],
    ['王五1', "22", "141414141","1111111111111111122222233333"],
    ['赵柳1', "23", "14141414","1111111111111111122222233333"],
    ['张三2', "20", "123456456","1111111111111111122222233333"],
    ['李四2', "21", "141414","1111111111111111122222233333"],
    ['王五2', "22", "141414141","1111111111111111122222233333"],
    ['赵柳2', "23", "14141414","1111111111111111122222233333"],
    ['张三3', "20", "123456456","1111111111111111122222233333"],
    ['李四3', "21", "141414","1111111111111111122222233333"],
    ['王五3', "22", "141414141","1111111111111111122222233333"],
    ['赵柳3', "23", "14141414","1111111111111111122222233333"],
    ['张三4', "20", "123456456","1111111111111111122222233333"],
    ['李四4', "21", "141414","1111111111111111122222233333"],
    ['王五4', "22", "141414141","1111111111111111122222233333"],
    ['赵柳4', "23", "14141414","1111111111111111122222233333"],
    ['张三5', "20", "123456456","1111111111111111122222233333"],
    ['李四5', "21", "141414","1111111111111111122222233333"],
    ['王五5', "22", "141414141","1111111111111111122222233333"],
    ['赵柳5', "23", "14141414","1111111111111111122222233333"],
    ['张三6', "20", "123456456","1111111111111111122222233333"],
    ['李四6', "21", "141414","1111111111111111122222233333"],
    ['王五6', "22", "141414141","1111111111111111122222233333"],
    ['赵柳6', "23", "14141414","1111111111111111122222233333"],
    ['张三7', "20", "123456456","1111111111111111122222233333"],
    ['李四7', "21", "141414","1111111111111111122222233333"],
    ['王五7', "22", "141414141","1111111111111111122222233333"],
    ['赵柳7', "23", "14141414","1111111111111111122222233333"],
    ['张三8', "20", "123456456","1111111111111111122222233333"],
    ['李四8', "21", "141414","1111111111111111122222233333"],
    ['王五8', "22", "141414141","1111111111111111122222233333"],
    ['赵柳8', "23", "14141414","1111111111111111122222233333"],
];
var store = Ext.create("Ext.data.Store", {
  model: "User",
  autoLoad: true,
  pageSize: 5,
  proxy: {
     
      type: "memory",//获取本地数据
      data: provice,
      reader: "array"
  }
});

//3.创建grid
var grid = Ext.create("Ext.grid.Panel", {
    xtype: "grid",
    store: store,
    width: 500,
    height: 900,
    margin: 30,
    columnLines: true,
    renderTo: Ext.getBody(),
    selModel: {
        injectCheckbox: 0,
        mode: "SIMPLE",     //"SINGLE"/"SIMPLE"/"MULTI"
        checkOnly: true     //只能通过checkbox选择
    },
    selType: "checkboxmodel",
    columns: [
        { text: '姓名', dataIndex: 'name' },
        {
            text: '年龄', dataIndex: 'age', xtype: 'numbercolumn', format: '0',
            editor: {
                xtype: "numberfield",
                decimalPrecision: 0,
                selectOnFocus: true
            }
        },
        { text: '电话', dataIndex: 'phone', editor: "textfield" },
        { text: '地址', dataIndex: 'address', editor: "textfield",width:400 }
    ],
    plugins: [
        Ext.create('Ext.grid.plugin.CellEditing', {
            clicksToEdit: 1
        })
    ],
    listeners: {
        itemdblclick: function (me, record, item, index, e, eOpts) {
            //双击事件的操作
        }
    },
    bbar: { xtype: "pagingtoolbar", store: store, displayInfo: true }
});

Ext.create('Ext.Viewport', {
        items: [
            {
                layout: 'fit',
                region: 'center',
                items: [grid]
            }
        ],

    });

});